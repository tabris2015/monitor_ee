{% extends 'base.html' %}

{% load staticfiles %}

{% load rango_extras %}

{% block title %}resumen mensual{% endblock %}

{% block side_block %}
<ul class="nav nav-sidebar">
    <li><a href="{% url 'resumen_mensual' %}">Resuman Mensual</a></li>
    <li><a href="{% url 'resumen_diario' %}">Resumen Diario</a></li>
</ul>
{% endblock %}


{% block body_block %}

    <h1>Resumen Mensual
    </h1>
        
        <!--<form action="." method="GET"> -->
        <div class="col-md-6">
        <label for="mes">Introducir un mes: </label>
        <input type="month" id="mes" name="mes" value="2014-2-1">
            <button id="btn_buscar" class="btn btn-lg btn-primary">Buscar</button>
        <!--</form>-->
        </div>

        <span id="jquery_test1"></span>
        <div class="panel panel-default">
            <div id="resumen_mes" class="panel-body" style="width:100%;height:400px"></div>
        </div>  
       
    

    {% block extrajs %}
        <!-- codigo del chart-->
        <script>
        $(function () {

            $(document).ready(function () {
                var chart_options = {
                    chart: {
                        plotBackgroundColor: null,
                        plotBorderWidth: null,
                        plotShadow: false
                    },
                    title: {
                        text: 'Resumen de consumo por áreas'
                    },
                    tooltip: {
                        pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
                    },
                    plotOptions: {
                        pie: {
                            allowPointSelect: true,
                            cursor: 'pointer',
                            dataLabels: {
                                enabled: false
                            },
                            showInLegend: true
                        }
                    },
                    series: [{
                        type: 'pie',
                        name: 'Consumo de Potencia',
                        data: [
                            ['Firefox',   45.0],
                            ['IE',       26.8],
                            {
                                name: 'Chrome',
                                y: 12.8,
                                sliced: true,
                                selected: true
                            },
                            ['Safari',    8.5],
                            ['Opera',     6.2],
                            ['Others',   0.7]
                        ]
                    }]
                };
                // Build the chart
                $("#btn_buscar").click(function(){      //cuando presionamos boton
                    /*
                    $('#resumen_mes').highcharts({
                        chart: {
                            plotBackgroundColor: null,
                            plotBorderWidth: null,
                            plotShadow: false
                        },
                        title: {
                            text: 'Resumen de consumo por áreas'
                        },
                        tooltip: {
                            pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
                        },
                        plotOptions: {
                            pie: {
                                allowPointSelect: true,
                                cursor: 'pointer',
                                dataLabels: {
                                    enabled: false
                                },
                                showInLegend: true
                            }
                        },
                        series: [{
                            type: 'pie',
                            name: 'Consumo de Potencia',
                            data: [
                                ['Firefox',   45.0],
                                ['IE',       26.8],
                                {
                                    name: 'Chrome',
                                    y: 12.8,
                                    sliced: true,
                                    selected: true
                                },
                                ['Safari',    8.5],
                                ['Opera',     6.2],
                                ['Others',   0.7]
                            ]
                        }]
                    });
                    */
                    var chart = new Highcharts.Chart(chart_options);
                });

            });

        });

        </script>
    {% endblock %}
    

{% endblock %}
 
